{"version":3,"file":"EmbraceProcessor.js","sources":["../../../../src/processors/EmbraceProcessor/EmbraceProcessor.ts"],"sourcesContent":["import { diag } from '@opentelemetry/api';\nimport type { DiagLogger, Span } from '@opentelemetry/api';\nimport type { ReadableSpan, SpanProcessor } from '@opentelemetry/sdk-trace-web';\nimport type { EmbraceProcessorArgs } from './types.js';\n\nexport abstract class EmbraceProcessor implements SpanProcessor {\n  private readonly _diag: DiagLogger;\n  private readonly _processorName: string;\n\n  protected constructor({\n    diag: providedDiag,\n    processorName,\n  }: EmbraceProcessorArgs) {\n    this._processorName = processorName;\n    this._diag =\n      providedDiag ??\n      diag.createComponentLogger({\n        namespace: processorName,\n      });\n  }\n\n  /* Returns the diag logger */\n  protected get diag(): DiagLogger {\n    return this._diag;\n  }\n\n  /* Returns the processor name */\n  protected get processorName(): string {\n    return this._processorName;\n  }\n\n  public abstract forceFlush(): Promise<void>;\n\n  public abstract onEnd(span: ReadableSpan): void;\n\n  public abstract onStart(span: Span): void;\n\n  public abstract shutdown(): Promise<void>;\n}\n"],"names":["EmbraceProcessor","diag","providedDiag","processorName","_processorName","_diag","createComponentLogger","namespace"],"mappings":";;;;AAKO,MAAeA,gBAAAA,CAAAA;AAIpB,IAAA,WAAA,CAAsB,EACpBC,IAAAA,EAAMC,YAAY,EAClBC,aAAa,EACQ,CAAE;QACvB,IAAI,CAACC,cAAc,GAAGD,aAAAA;AACtB,QAAA,IAAI,CAACE,KAAK,GACRH,YAAAA,IACAD,QAAAA,CAAKK,qBAAqB,CAAC;YACzBC,SAAAA,EAAWJ;AACb,SAAA,CAAA;AACJ,IAAA;kCAGA,IAAcF,IAAAA,GAAmB;QAC/B,OAAO,IAAI,CAACI,KAAK;AACnB,IAAA;qCAGA,IAAcF,aAAAA,GAAwB;QACpC,OAAO,IAAI,CAACC,cAAc;AAC5B,IAAA;AASF;;;;"}