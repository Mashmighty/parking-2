{"version":3,"file":"setupDefaultInstrumentations.js","sources":["../../../src/sdk/setupDefaultInstrumentations.ts"],"sourcesContent":["import type { Instrumentation } from '@opentelemetry/instrumentation';\nimport {\n  GlobalExceptionInstrumentation,\n  SpanSessionBrowserActivityInstrumentation,\n  SpanSessionOnLoadInstrumentation,\n  SpanSessionTimeoutInstrumentation,\n  SpanSessionVisibilityInstrumentation,\n  WebVitalsInstrumentation,\n  ClicksInstrumentation,\n} from '../instrumentations/index.js';\nimport { DocumentLoadInstrumentation } from '@opentelemetry/instrumentation-document-load';\nimport { FetchInstrumentation } from '@opentelemetry/instrumentation-fetch';\nimport { XMLHttpRequestInstrumentation } from '@opentelemetry/instrumentation-xml-http-request';\nimport type { DefaultInstrumentationConfig } from './types.js';\n\nexport const setupDefaultInstrumentations = (\n  config: DefaultInstrumentationConfig = {}\n): Instrumentation[] => {\n  /*\n    These instrumentations are core to managing the session lifecycle and so are not optional\n   */\n  const instrumentations: Instrumentation[] = [\n    new SpanSessionOnLoadInstrumentation(config['session-on-load']),\n    new SpanSessionVisibilityInstrumentation(config['session-visibility']),\n    new SpanSessionBrowserActivityInstrumentation(config['session-activity']),\n    new SpanSessionTimeoutInstrumentation(config['session-timeout']),\n  ];\n\n  if (!config.omit?.has('exception')) {\n    instrumentations.push(\n      new GlobalExceptionInstrumentation(config['exception'])\n    );\n  }\n\n  if (!config.omit?.has('click')) {\n    instrumentations.push(new ClicksInstrumentation(config['click']));\n  }\n\n  if (!config.omit?.has('web-vital')) {\n    instrumentations.push(new WebVitalsInstrumentation(config['web-vital']));\n  }\n\n  if (!config.omit?.has('@opentelemetry/instrumentation-document-load')) {\n    instrumentations.push(\n      new DocumentLoadInstrumentation(\n        config['@opentelemetry/instrumentation-document-load']\n      )\n    );\n  }\n\n  if (!config.omit?.has('@opentelemetry/instrumentation-fetch')) {\n    instrumentations.push(\n      new FetchInstrumentation({\n        ...config['network'],\n        ...config['@opentelemetry/instrumentation-fetch'],\n      })\n    );\n  }\n\n  if (!config.omit?.has('@opentelemetry/instrumentation-xml-http-request')) {\n    instrumentations.push(\n      new XMLHttpRequestInstrumentation({\n        ...config['network'],\n        ...config['@opentelemetry/instrumentation-xml-http-request'],\n      })\n    );\n  }\n\n  return instrumentations;\n};\n"],"names":["setupDefaultInstrumentations","config","instrumentations","SpanSessionOnLoadInstrumentation","SpanSessionVisibilityInstrumentation","SpanSessionBrowserActivityInstrumentation","SpanSessionTimeoutInstrumentation","omit","has","push","GlobalExceptionInstrumentation","ClicksInstrumentation","WebVitalsInstrumentation","DocumentLoadInstrumentation","FetchInstrumentation","XMLHttpRequestInstrumentation"],"mappings":";;;;;;;;;;;;;AAeO,MAAMA,4BAAAA,GAA+B,CAC1CC,MAAAA,GAAuC,EAAE,GAAA;AAEzC;;AAEC,MACD,MAAMC,gBAAAA,GAAsC;QAC1C,IAAIC,iEAAAA,CAAiCF,MAAM,CAAC,iBAAA,CAAkB,CAAA;QAC9D,IAAIG,yEAAAA,CAAqCH,MAAM,CAAC,oBAAA,CAAqB,CAAA;QACrE,IAAII,mFAAAA,CAA0CJ,MAAM,CAAC,kBAAA,CAAmB,CAAA;QACxE,IAAIK,mEAAAA,CAAkCL,MAAM,CAAC,iBAAA,CAAkB;AAChE,KAAA;AAED,IAAA,IAAI,CAACA,MAAAA,CAAOM,IAAI,EAAEC,IAAI,WAAA,CAAA,EAAc;AAClCN,QAAAA,gBAAAA,CAAiBO,IAAI,CACnB,IAAIC,6DAAAA,CAA+BT,MAAM,CAAC,WAAA,CAAY,CAAA,CAAA;AAE1D,IAAA;AAEA,IAAA,IAAI,CAACA,MAAAA,CAAOM,IAAI,EAAEC,IAAI,OAAA,CAAA,EAAU;AAC9BN,QAAAA,gBAAAA,CAAiBO,IAAI,CAAC,IAAIE,2CAAAA,CAAsBV,MAAM,CAAC,OAAA,CAAQ,CAAA,CAAA;AACjE,IAAA;AAEA,IAAA,IAAI,CAACA,MAAAA,CAAOM,IAAI,EAAEC,IAAI,WAAA,CAAA,EAAc;AAClCN,QAAAA,gBAAAA,CAAiBO,IAAI,CAAC,IAAIG,iDAAAA,CAAyBX,MAAM,CAAC,WAAA,CAAY,CAAA,CAAA;AACxE,IAAA;AAEA,IAAA,IAAI,CAACA,MAAAA,CAAOM,IAAI,EAAEC,IAAI,8CAAA,CAAA,EAAiD;AACrEN,QAAAA,gBAAAA,CAAiBO,IAAI,CACnB,IAAII,uDAAAA,CACFZ,MAAM,CAAC,8CAAA,CAA+C,CAAA,CAAA;AAG5D,IAAA;AAEA,IAAA,IAAI,CAACA,MAAAA,CAAOM,IAAI,EAAEC,IAAI,sCAAA,CAAA,EAAyC;QAC7DN,gBAAAA,CAAiBO,IAAI,CACnB,IAAIK,yCAAAA,CAAqB;YACvB,GAAGb,MAAM,CAAC,SAAA,CAAU;YACpB,GAAGA,MAAM,CAAC,sCAAA;AACZ,SAAA,CAAA,CAAA;AAEJ,IAAA;AAEA,IAAA,IAAI,CAACA,MAAAA,CAAOM,IAAI,EAAEC,IAAI,iDAAA,CAAA,EAAoD;QACxEN,gBAAAA,CAAiBO,IAAI,CACnB,IAAIM,2DAAAA,CAA8B;YAChC,GAAGd,MAAM,CAAC,SAAA,CAAU;YACpB,GAAGA,MAAM,CAAC,iDAAA;AACZ,SAAA,CAAA,CAAA;AAEJ,IAAA;IAEA,OAAOC,gBAAAA;AACT;;;;"}