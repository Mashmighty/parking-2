import { DocumentLoadInstrumentation } from '@opentelemetry/instrumentation-document-load';
import { FetchInstrumentation } from '@opentelemetry/instrumentation-fetch';
import { XMLHttpRequestInstrumentation } from '@opentelemetry/instrumentation-xml-http-request';
import { SpanSessionOnLoadInstrumentation } from '../instrumentations/session/SpanSessionOnLoadInstrumentation/SpanSessionOnLoadInstrumentation.js';
import { SpanSessionVisibilityInstrumentation } from '../instrumentations/session/SpanSessionVisibilityInstrumentation/SpanSessionVisibilityInstrumentation.js';
import { SpanSessionBrowserActivityInstrumentation } from '../instrumentations/session/SpanSessionBrowserActivityInstrumentation/SpanSessionBrowserActivityInstrumentation.js';
import { SpanSessionTimeoutInstrumentation } from '../instrumentations/session/SpanSessionTimeoutInstrumentation/SpanSessionTimeoutInstrumentation.js';
import { GlobalExceptionInstrumentation } from '../instrumentations/exceptions/GlobalExceptionInstrumentation/GlobalExceptionInstrumentation.js';
import { ClicksInstrumentation } from '../instrumentations/clicks/ClicksInstrumentation/ClicksInstrumentation.js';
import { WebVitalsInstrumentation } from '../instrumentations/web-vitals/WebVitalsInstrumentation/WebVitalsInstrumentation.js';

const setupDefaultInstrumentations = (config = {})=>{
    /*
    These instrumentations are core to managing the session lifecycle and so are not optional
   */ const instrumentations = [
        new SpanSessionOnLoadInstrumentation(config['session-on-load']),
        new SpanSessionVisibilityInstrumentation(config['session-visibility']),
        new SpanSessionBrowserActivityInstrumentation(config['session-activity']),
        new SpanSessionTimeoutInstrumentation(config['session-timeout'])
    ];
    if (!config.omit?.has('exception')) {
        instrumentations.push(new GlobalExceptionInstrumentation(config['exception']));
    }
    if (!config.omit?.has('click')) {
        instrumentations.push(new ClicksInstrumentation(config['click']));
    }
    if (!config.omit?.has('web-vital')) {
        instrumentations.push(new WebVitalsInstrumentation(config['web-vital']));
    }
    if (!config.omit?.has('@opentelemetry/instrumentation-document-load')) {
        instrumentations.push(new DocumentLoadInstrumentation(config['@opentelemetry/instrumentation-document-load']));
    }
    if (!config.omit?.has('@opentelemetry/instrumentation-fetch')) {
        instrumentations.push(new FetchInstrumentation({
            ...config['network'],
            ...config['@opentelemetry/instrumentation-fetch']
        }));
    }
    if (!config.omit?.has('@opentelemetry/instrumentation-xml-http-request')) {
        instrumentations.push(new XMLHttpRequestInstrumentation({
            ...config['network'],
            ...config['@opentelemetry/instrumentation-xml-http-request']
        }));
    }
    return instrumentations;
};

export { setupDefaultInstrumentations };
//# sourceMappingURL=setupDefaultInstrumentations.js.map
